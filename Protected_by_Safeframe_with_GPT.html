<!doctype html>
<!--
    Used examples: 
        https://developers.google.com/publisher-tag/guides/get-started
        
        https://developers.google.com/publisher-tag/reference#googletag.Service_addEventListener
-->
<html>
    <head>
        <meta charset="utf-8">
        <title>Protected By Safeframe</title>
        <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>

        <script>
            window.googletag = window.googletag || {cmd: []};
            googletag.cmd.push(function() {
                googletag.pubads().setForceSafeFrame(true);
                const targetSlot = googletag
                  .defineSlot(
                      '/6355419/Travel/Europe/France/Paris', [300, 250], 'banner-ad')
                  .addService(googletag.pubads());
                googletag.pubads().addEventListener("slotOnload", (event) => {
                    if(event.slot === targetSlot)
                    {
                        console.log("Successfully Loaded");
                        googletag.destroySlots();
                        hideAdDiv();
                        loadWebPage();
                        
                    }
                })
              googletag.enableServices();
            });

            function hideAdDiv()
            {
                adContainer = document.getElementById("banner-ad");
                adContainer.style.display = "none";
            }

            function loadWebPage()
            {
                webPageFrame = document.createElement("iframe");
                webPageFrame.src = "https://oduwsdl.github.io/";
                document.body.appendChild(webPageFrame);
                webPageFrame.style.position = "fixed";
                webPageFrame.style.inset = 0;
                webPageFrame.style.margin = 0;
                webPageFrame.style.padding = 0;
                webPageFrame.style.width = "100%";
                webPageFrame.style.height = "100%";
                webPageFrame.style.border = "none";
                webPageFrame.style.overflow = "hidden";
            }
        </script>

    </head>
    <body>
        <div id="banner-ad" style="width: 300px; height: 250px;">
            <script>
              googletag.cmd.push(function() {
                googletag.display('banner-ad');
              });
            </script>
        </div>
    </body>
</html>
